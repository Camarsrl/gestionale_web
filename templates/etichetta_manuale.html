{% extends "layout.html" %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h4 class="mb-0">Crea Etichetta Manuale (100x62 mm)</h4>
                    {% if logo_url %}<img src="{{ logo_url }}" alt="Logo" style="height: 40px;">{% endif %}
                </div>
                <div class="card-body">
                    <form method="post" action="{{ url_for('etichetta_preview') }}" target="_blank">
                        <div class="row g-3">
                            
                            <div class="col-md-6">
                                <label for="cliente-input" class="form-label">Cliente</label>
                                <input class="form-control" list="clienti-datalist" id="cliente-input" name="cliente" value="{{ articolo.cliente if articolo else '' }}">
                                <datalist id="clienti-datalist">
                                    {% for cliente in clienti %}
                                        <option value="{{ cliente }}">
                                    {% endfor %}
                                </datalist>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label">Fornitore</label>
                                <input name="fornitore" class="form-control" value="{{ articolo.fornitore if articolo else '' }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Ordine</label>
                                <input name="ordine" class="form-control" value="{{ articolo.ordine if articolo else '' }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Commessa</label>
                                <input name="commessa" class="form-control" value="{{ articolo.commessa if articolo else '' }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">DDT Ingresso</label>
                                <input name="n_ddt_ingresso" class="form-control" value="{{ articolo.n_ddt_ingresso if articolo else '' }}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Data Ingresso</label>
                                <input name="data_ingresso" class="form-control" placeholder="gg/mm/aaaa" value="{{ articolo.data_ingresso.strftime('%d/%m/%Y') if articolo and articolo.data_ingresso }}">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">N. Arrivo</label>
                                <input name="n_arrivo" class="form-control" value="{{ articolo.n_arrivo if articolo else '' }}">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">N. Colli</label>
                                <input name="n_colli" class="form-control" value="{{ articolo.n_colli if articolo else '' }}">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Posizione</label>
                                <input name="posizione" class="form-control" value="{{ articolo.posizione if articolo else '' }}">
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">Protocollo</label>
                                <input name="protocollo" class="form-control" value="{{ articolo.protocollo if articolo else '' }}">
                            </div>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-primary"><i class="bi bi-printer me-2"></i>Genera Anteprima PDF</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
